---
# keep this front matter so Jekyll compiles SCSS
---
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Merriweather:wght@400;700&display=swap');

@import "minimal-mistakes/skins/default";
@import "minimal-mistakes";

/* === Font override === */
body,
input,
textarea,
select,
button {
  font-family: 'Inter', system-ui, sans-serif;
}

h1, h2, h3, h4, h5, h6,
.site-title,
.greedy-nav a {
  font-family: 'Merriweather', serif;
  font-weight: 700;
  line-height: 1.3;
  color: #144273; /* Navy headings, originally #111 */ 
}

/* === Compact, elegant typography & spacing === */
html { font-size: 15px; }  /* base size */
.page__content { font-size: 0.94rem; line-height: 1.6; }  /* body text slightly smaller */

.page__content h1 { font-size: 1.75rem; margin: 1.1rem 0 0.6rem; }
.page__content h2 { font-size: 1.35rem; margin: 1rem 0 0.5rem; }
.page__content h3 { font-size: 1.15rem; margin: 0.85rem 0 0.45rem; }
.page__content h4 { font-size: 1.02rem; margin: 0.7rem 0 0.4rem; }
.page__content p  { margin: 0.55rem 0; }
.page__content li { margin: 0.3rem 0; }

/* Make the content column a comfortable width */
.page,
.page__inner-wrap,
.initial-content {
  max-width: 820px;
  margin-left: auto;
  margin-right: auto;
}

/* Subtler link color and hover */
.page__content a { text-decoration: none; }
.page__content a:hover { text-decoration: underline; }

/* Title, nav size & spacing */
.masthead .site-title { font-size: 1.6rem; color: #144273; }
.greedy-nav .visible-links > li > a {
  font-size: 0.95rem;
  padding: 0.35rem 0.6rem;
  color: #144273; 
}

/* DOI badges not so loud */
.page__content img[alt="DOI"] { height: 15px; }
.page__content img[alt="Link"] { height: 15px; }
.page__content img[alt="Code"] { height: 15px; }

/* Horizontal rules lighter */
.page__content hr {
  border: 0;
  border-top: 2px solid #c2c75a;  /*1px solid rgba(0,0,0,0.08);*/
  margin: 1rem 0;
}

/* Optional: subtle card look for callouts/publications */
.pubcard {
  background: #fff;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  padding: 0.9rem 1rem;
  margin: 1rem 0;
}
.pubcard p {
  margin: 0.45rem 0 0.25rem;
}

/* Indented references with a smaller font */
.reference {
  font-size: 0.85em;
  display: block;
  margin-left: 1.5em;
  line-height: 1.5;
}

/* Footer background color */
.page__footer {
  background-color: #f7f9e0;
}

/* Mobile tweaks */
@media (max-width: 600px) {
  html { font-size: 14.75px; }
  .greedy-nav .visible-links > li > a { padding: 0.3rem 0.5rem; }
}

/* === Mobile-friendly layout utilities === */
/* Prefix with u- to avoid theme collisions */

.u-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1rem;
  align-items: start;
}

.u-grid--tight   { gap: 0.5rem; }
.u-grid--roomy   { gap: 1.5rem; }
.u-cols-2        { grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); }
.u-cols-3        { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }

/* Flex version (for equal heights) */
.u-row { display: flex; flex-wrap: wrap; gap: 1rem; }
.u-row > * { flex: 1 1 280px; min-width: 0; }

/* Stack: tidy vertical rhythm inside a block */
.u-stack > * + * { margin-top: 0.75rem; }

/* Make media fluid */
.page__content img,
.page__content video,
.page__content svg { max-width: 100%; height: auto; }

/* Iframes: full-width, keep aspect ratio */
.page__content iframe {
  width: 100%;
  aspect-ratio: 16 / 9;
  border: 0;
}

/* Tables: allow horizontal scroll on small screens */
.u-table-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; }
.u-table-scroll table { width: 100%; border-collapse: collapse; }
.u-table-scroll th, .u-table-scroll td { padding: 0.5rem; }

/* Code blocks: prevent layout breakage */
.page__content pre, .page__content code { overflow-x: auto; }

/* Reusable hero: desktop = left | text | right; mobile = text, two images, bottom text */
.u-hero { 
  display: grid; 
  gap: 1.5rem; 
  row-gap: 1rem;              /* slightly tighter vertical spacing */
}
.u-hero__intro  { grid-area: intro; }
.u-hero__left   { grid-area: left; }
.u-hero__right  { grid-area: right; }
.u-hero__below  { grid-area: below; }
.u-hero img     { max-width: 100%; height: auto; display: block; }

.u-hero { 
  padding-top: 1.5rem;
}
@media (min-width: 900px){
  .u-hero { padding-top: 2rem; }
}

/* Remove default figure margins inside hero & collapse adjacent paragraph margins */
.u-hero figure { margin: 0; }
.u-hero__intro > :first-child { margin-top: 0; }
.u-hero__intro > :last-child { margin-bottom: 0; }
.u-hero__below > :first-child { margin-top: 0; }

/* Mobile-first: text full width, images side-by-side, bottom text full width */
@media (max-width: 899px){
  .u-hero{
    grid-template-columns: 1fr 1fr;
    grid-template-areas:
      "intro intro"
      "left  right"
      "below below";
  }
}

/* Desktop: left | intro | right; bottom spans all */
@media (min-width: 900px){
  .u-hero{
    grid-template-columns: 200px 1fr 200px;
    grid-template-areas:
      "left intro right"
      "below below below";
    align-items: start;
  }
}

/* === Opt-in circular images (you control where to apply) === */
/* Always circular, any viewport */
.u-avatar {
  border-radius: 50%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  overflow: hidden;
}

/* Circular only on desktop */
@media (min-width: 900px) {
  .u-avatar--desktop {
    border-radius: 50%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    overflow: hidden;
  }
}

/* Circular only on mobile */
@media (max-width: 899px) {
  .u-avatar--mobile {
    border-radius: 50%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    overflow: hidden;
  }
}

/* If the bitmap is already square and you want no cropping, just round edges */
.u-circle-if-square { border-radius: 50%; }

/* Optional: simple visibility helpers */
.u-show-mobile { display: none !important; }
@media (max-width: 600px) {
  .u-hide-mobile { display: none !important; }
  .u-show-mobile { display: block !important; }
}

/* Safety: stop long URLs/words from causing horizontal scroll globally */
.page__content { overflow-wrap: anywhere; }
